<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>üç∫ Mina Recept</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 2em;
      background: #fdfdfd;
    }
    h1 {
      color: #6b4e2f;
    }
    .recipe {
      border-bottom: 1px solid #ddd;
      margin-bottom: 1em;
      padding-bottom: 1em;
    }
    .recipe h2 {
      margin: 0 0 0.3em;
    }
    .ebc-circle {
      display: inline-block;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      margin-right: 6px;
      vertical-align: middle;
    }
  </style>
</head>
<body>
  <h1>üç∫ Mina sparade recept</h1>
  <div id="recipes">Laddar...</div>

  <script>
    const API_URL = "https://script.google.com/macros/s/AKfycbztPwpS1LkIfKfAi3TlnQXDaHgewtGe--tQ3jjJZIlv0W0k33YTNyUqx42YpdJhupU/exec"; // ‚Üê klistra in din apps script web app URL h√§r

    function ebcToColor(ebc) {
      if (ebc <= 2) return "#f8f753";
      if (ebc <= 4) return "#f6f513";
      if (ebc <= 6) return "#f3f513";
      if (ebc <= 8) return "#eae615";
      if (ebc <= 10) return "#e0d01b";
      if (ebc <= 12) return "#d5bc26";
      if (ebc <= 14) return "#c49a35";
      if (ebc <= 16) return "#bf923b";
      if (ebc <= 18) return "#a36f2c";
      if (ebc <= 20) return "#945f27";
      if (ebc <= 22) return "#813c1c";
      if (ebc <= 24) return "#6b2e1a";
      if (ebc <= 26) return "#5d1e13";
      if (ebc <= 28) return "#4e1712";
      if (ebc <= 30) return "#3b0b0a";
      if (ebc <= 32) return "#2e0a0a";
      if (ebc <= 34) return "#1f0707";
      if (ebc <= 36) return "#1b0a07";
      if (ebc <= 38) return "#140707";
      if (ebc <= 40) return "#100505";
      if (ebc <= 45) return "#0d0404";
      if (ebc <= 50) return "#0a0303";
      if (ebc <= 60) return "#060202";
      return "#000000";
    }

    fetch(API_URL)
      .then(res => res.json())
      .then(data => {
        const container = document.getElementById("recipes");
        container.innerHTML = "";

        data.forEach(recipe => {
          const div = document.createElement("div");
          div.className = "recipe";

          const circle = `<span class="ebc-circle" style="background:${ebcToColor(recipe.ebc)};"></span>`;

          div.innerHTML = `
            <h2>${circle}${recipe.name}</h2>
            <p><strong>Stil:</strong> ${recipe.style || "‚Äì"}</p>
            <p><strong>ABV:</strong> ${recipe.abv || "?"}%</p>
            <p><strong>IBU:</strong> ${recipe.ibu || "?"}</p>
            <p><strong>EBC:</strong> ${recipe.ebc || "?"}</p>
          `;

          container.appendChild(div);
        });
      })
      .catch(err => {
        document.getElementById("recipes").textContent = "Kunde inte h√§mta recept üò¢";
        console.error(err);
      });
  </script>
</body>
</html>
